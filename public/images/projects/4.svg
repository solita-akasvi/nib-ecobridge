<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="450" viewBox="0 0 800 450" xmlns="http://www.w3.org/2000/svg">
  <!-- Definitions for gradients and filters -->
  <defs>
    <linearGradient id="skyGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4a8fe7;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#87ceeb;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="groundGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#70a26b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#5d8a59;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="waterGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4a90e2;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#2c78c5;stop-opacity:0.9" />
    </linearGradient>
    <linearGradient id="buildingGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#e8e8e8;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#f5f5f5;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e8e8e8;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="tankGradient" x1="30%" y1="0%" x2="70%" y2="100%">
      <stop offset="0%" style="stop-color:#f0f0f0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d0d0d0;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3" />
      <feOffset dx="2" dy="4" result="offsetblur" />
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.2" />
      </feComponentTransfer>
      <feMerge>
        <feMergeNode />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>
    <filter id="waterRipple" x="-20%" y="-20%" width="140%" height="140%">
      <feTurbulence type="fractalNoise" baseFrequency="0.01" numOctaves="2" result="turbulence" />
      <feDisplacementMap in="SourceGraphic" in2="turbulence" scale="5" xChannelSelector="R" yChannelSelector="G" />
    </filter>
  </defs>

  <!-- Background layers -->
  <rect width="800" height="200" fill="url(#skyGradient)" />
  <rect y="200" width="800" height="250" fill="url(#groundGradient)" />

  <!-- Main water treatment building -->
  <rect x="120" y="180" width="300" height="150" rx="3" ry="3" fill="url(#buildingGradient)" filter="url(#shadow)" />
  <rect x="120" y="180" width="300" height="20" fill="#d9d9d9" />
  
  <!-- Building windows and details -->
  <rect x="140" y="220" width="30" height="40" fill="#a3c2e3" stroke="#8fb7e3" stroke-width="1" />
  <rect x="190" y="220" width="30" height="40" fill="#a3c2e3" stroke="#8fb7e3" stroke-width="1" />
  <rect x="240" y="220" width="30" height="40" fill="#a3c2e3" stroke="#8fb7e3" stroke-width="1" />
  <rect x="290" y="220" width="30" height="40" fill="#a3c2e3" stroke="#8fb7e3" stroke-width="1" />
  <rect x="340" y="220" width="30" height="40" fill="#a3c2e3" stroke="#8fb7e3" stroke-width="1" />
  
  <!-- Main entrance -->
  <rect x="215" y="290" width="40" height="40" rx="2" ry="2" fill="#6b8eb3" />
  <line x1="235" y1="290" x2="235" y2="330" stroke="#555" stroke-width="1" />
  
  <!-- Water treatment tanks -->
  <g transform="translate(500, 200)">
    <!-- First circular treatment tank -->
    <circle cx="50" cy="50" r="40" fill="url(#tankGradient)" stroke="#cccccc" stroke-width="2" filter="url(#shadow)" />
    <circle cx="50" cy="50" r="35" fill="url(#waterGradient)" filter="url(#waterRipple)" />
    
    <!-- Second circular treatment tank -->
    <circle cx="150" cy="50" r="40" fill="url(#tankGradient)" stroke="#cccccc" stroke-width="2" filter="url(#shadow)" />
    <circle cx="150" cy="50" r="35" fill="url(#waterGradient)" filter="url(#waterRipple)" />
    
    <!-- Third circular treatment tank -->
    <circle cx="100" cy="130" r="40" fill="url(#tankGradient)" stroke="#cccccc" stroke-width="2" filter="url(#shadow)" />
    <circle cx="100" cy="130" r="35" fill="url(#waterGradient)" filter="url(#waterRipple)" />
  </g>
  
  <!-- Piping system connecting the components -->
  <path d="M420,240 L500,240" stroke="#a0a0a0" stroke-width="8" fill="none" />
  <path d="M550,250 L600,250" stroke="#a0a0a0" stroke-width="8" fill="none" />
  <path d="M650,250 L700,250" stroke="#a0a0a0" stroke-width="8" fill="none" />
  <path d="M600,250 L600,330" stroke="#a0a0a0" stroke-width="8" fill="none" />
  <path d="M550,330 L650,330" stroke="#a0a0a0" stroke-width="8" fill="none" />
  
  <!-- Flow indicators on pipes -->
  <circle cx="470" cy="240" r="5" fill="#3a6ea5" />
  <circle cx="575" cy="250" r="5" fill="#3a6ea5" />
  <circle cx="675" cy="250" r="5" fill="#3a6ea5" />
  <circle cx="600" cy="290" r="5" fill="#3a6ea5" />
  <circle cx="575" cy="330" r="5" fill="#3a6ea5" />
  <circle cx="625" cy="330" r="5" fill="#3a6ea5" />
  
  <!-- Filtration equipment -->
  <rect x="130" y="370" width="180" height="30" rx="5" ry="5" fill="#b8b8b8" filter="url(#shadow)" />
  <rect x="140" y="360" width="160" height="10" rx="2" ry="2" fill="#d8d8d8" />
  
  <!-- Control panel -->
  <rect x="350" y="350" width="60" height="40" rx="2" ry="2" fill="#444444" filter="url(#shadow)" />
  <circle cx="365" cy="360" r="3" fill="#3fdf4a" />
  <circle cx="365" cy="370" r="3" fill="#ff5252" />
  <circle cx="365" cy="380" r="3" fill="#ffd740" />
  <rect x="380" y="365" width="20" height="10" rx="1" ry="1" fill="#2196f3" />
  
  <!-- Water outflow area -->
  <rect x="50" y="330" width="40" height="80" fill="#598bba" />
  <path d="M50,350 Q70,360 90,350 T130,350" stroke="#4a90e2" stroke-width="2" fill="none" />
  <path d="M50,360 Q70,370 90,360 T130,360" stroke="#4a90e2" stroke-width="2" fill="none" />
  <path d="M50,370 Q70,380 90,370 T130,370" stroke="#4a90e2" stroke-width="2" fill="none" />
</svg>